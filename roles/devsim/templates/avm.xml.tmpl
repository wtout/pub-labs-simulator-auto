<!-- Generic device config -->
<key name="avm{{ first_available_id }}">
  <key name="agents">
    <key name="{{ device.id }}">
      <entry name="snmpClassName">com.sheer.tools.simulator.snmp.Cisco6400NspSnmpSimulator</entry>
      <entry name="telnetClassName">com.sheer.tools.simulator.telnet.Cisco7200TelnetSimulatorGenerator</entry>
      <entry name="enableEcho">true</entry>
{% if device.netconf|default(false)|bool %}
      <entry name="isNetConfEnabled">true</entry>
{% endif %}
{% if device.ssh|default(false)|bool %}
      <entry name="ssh">2</entry>
      <entry name="Username">{{ device.username }}</entry>
      <entry name="Password">{{ device.password }}</entry>
{% endif %}
{% if device.id|lower is search('air-') %}
      <entry name="cliError"><![CDATA[Incorrect usage.  Use the '?' or <TAB> key to list commands.]]></entry>
      <entry name="UsernamePrompt">User: </entry>
{% endif %}
      <key name="ipList">
        <entry name="ips">{{ first_available_ip }}-{{ device.num }}</entry>
      </key>
      <!-- SNMP community name -->
      <key name="{% if device.snmpv3|default(false)|bool %}{{ device.v3authusername }}{% else %}{{ device.community|default('cisco') }}{% endif %}">
        <entry name="prompt">{HOST}#</entry>
{% if device.snmpv2|default(false)|bool or device.snmpv3|default(false)|bool %}
        <entry name="walkFile">../recordings/snmp/{{ device.id }}.snmp</entry>
{% endif %}
{% if device.ssh|default(false)|bool %}
        <entry name="recordFile">../recordings/cli/{{ device.id }}.cli</entry>
{% endif %}
{% if device.netconf|default(false)|bool %}
        <entry name="netconfFile">../recordings/nconf/{{ device.id }}.nconf</entry>
{% endif %}
{% if device.snmpv3|default(false)|bool %}
        <entry name="v3UserName">{{ device.v3authusername }}</entry>
        <entry name="v3AuthProtocol">{{ device.v3authprotocol }}</entry>
        <entry name="v3AuthPassword">{{ device.v3authpassword }}</entry>
        <entry name="v3PrivPassword">{{ device.v3privpassword }}</entry>
        <entry name="v3PrivProtocol">{{ device.v3privprotocol }}</entry>
{% endif %}
      </key>
    </key>
  </key>
</key>
